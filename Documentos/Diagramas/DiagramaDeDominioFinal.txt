@startuml

class Persona{
  nombre: String
  dni: String
  telefono: String
  email: String
}

class Administrador{
  nombre: String
  dni: String
  telefono: String
  email: String

  gestionarUsuarios()
  generarInformeMensual()
}

class Usuario{
  username: String
  password: String
  rol: Rol
}

class Responsable{
}

class Paciente{
  fechaNacimiento: Date
  direccion: String
  tipoSangre: String
  esMenor: Boolean
  responsable: Responsable
}

class Medico {
  especialidad: String
  matricula: String
  horarioAtencion: [Horario]
  turnosAsignados: [Turnos]

  bloquearAgenda()
  verAgenda()
  cancelarTurno()
  registrarObservacion()
  confirmarAsistenciaPaciente()
}

class Sistema{
  notificarPaciente()
  enviarRecordatorio()
  advertirAusencia()
  actualizarMayorEdad()
  generarInforme()
}

class Horario{
  diaDeSemana: String
  horarioInicio: Time
  horarioFin: Time
}

class Informe{
  mes: String
  cantidadTurnosDados: int
  ganancias: double
  pacientesAtendidos: int
  turnosCancelados: int
}

class Turno{
  fecha: Date
  hora: Time
  paciente: Paciente
  profesional: Medico
  estadoAsistencia: Boolean
  pago: Pago

  confirmarAsistencia()
  cancelar()
}

class Pago{
   paciente: Paciente
   monto: Double
   estadoPago: Boolean
}

class Secretario{
  registrarPaciente()
  cancelarTurno()
  darDeBajaPaciente()
  asignarTurno()
  registrarPago()
}

entity Rol{
  ADMINISTRADOR
  SECRETARIO
  MEDICO
}

'Relaciones'
Persona <|-- Medico
Persona <|-- Paciente
Persona <|-- Secretario
Persona <|-- Administrador
Persona <|-- Responsable

Sistema *-- Informe
Turno *-- Medico: "0..*"
Turno *-- Paciente: "0..*"
Turno *-- Pago: "1"

Medico -->  Horario : "1..*"
Administrador --> Usuario: "1"
Secretario --> Usuario: "1"
Medico --> Usuario: "1"
Usuario --> Rol: "posee"
Responsable <-- Paciente: "0..1"
Administrador --> Sistema: "Solicita"

@enduml